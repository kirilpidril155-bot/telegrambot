<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>DarkShop ‚Äî Premium Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Home Page -->
        <div id="page-home" class="page active">
            <div class="app-header">
                <h1>Dark Shop</h1>
                <div class="subtitle">Premium delivery service</div>
            </div>
            
            <div class="glass-card">
                <h3 class="text-center mb-16">üèôÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                <div class="city-grid" id="cityGrid"></div>
            </div>
        </div>

        <!-- Districts Page -->
        <div id="page-districts" class="page">
            <div class="app-header">
                <h1>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω</h1>
            </div>
            
            <div class="selection-info">
                <div class="selection-item">
                    <div class="selection-label">–ì–æ—Ä–æ–¥:</div>
                    <div class="selection-value" id="selectedCityDistricts">–ú–æ—Å–∫–≤–∞</div>
                </div>
                <button class="change-btn" onclick="goToHome()">
                    –°–º–µ–Ω–∏—Ç—å –≥–æ—Ä–æ–¥
                </button>
            </div>
            
            <div class="glass-card">
                <h3 class="text-center mb-16">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–π–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                <div class="districts-grid" id="districtsGrid"></div>
            </div>
        </div>

        <!-- Products Page -->
        <div id="page-products" class="page">
            <div class="app-header">
                <h1>üõçÔ∏è –¢–æ–≤–∞—Ä—ã</h1>
                <div class="selection-info">
                    <div class="selection-item">
                        <div class="selection-label">–ì–æ—Ä–æ–¥:</div>
                        <div class="selection-value" id="selectedCityText">–ú–æ—Å–∫–≤–∞</div>
                    </div>
                    <div class="selection-item">
                        <div class="selection-label">–†–∞–π–æ–Ω:</div>
                        <div class="selection-value" id="selectedDistrictText">–¶–ê–û</div>
                    </div>
                    <button class="change-btn" onclick="goToDistricts()">
                        –°–º–µ–Ω–∏—Ç—å —Ä–∞–π–æ–Ω
                    </button>
                </div>
            </div>
            
            <div id="categoriesContainer"></div>
        </div>

        <!-- Cart Page -->
        <div id="page-cart" class="page">
            <div class="app-header">
                <h1>üõí –ö–æ—Ä–∑–∏–Ω–∞</h1>
                <div class="subtitle" id="cartCityDistrict">–ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏: –Ω–µ –≤—ã–±—Ä–∞–Ω</div>
            </div>
            
            <div class="glass-card">
                <div id="cartList" class="cart-list"></div>
                
                <div class="total-section">
                    <div class="total-amount">
                        <span id="totalGBP">0</span> ‚ÇΩ
                    </div>
                    <div class="total-converted" id="totalConverted"></div>
                    
                    <div class="cart-actions">
                        <button class="btn danger" onclick="clearCart()">
                            üóë –û—á–∏—Å—Ç–∏—Ç—å
                        </button>
                        <button class="btn primary" onclick="openPayModal()">
                            üí≥ –û–ø–ª–∞—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Check Page -->
        <div id="page-payment-check" class="page">
            <div class="status-page">
                <div class="status-icon">‚è≥</div>
                <div class="status-title">–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–ª–∞—Ç–µ–∂</div>
                <div class="status-message" id="paymentStatusMessage">
                    –û–∂–∏–¥–∞–µ–º –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –∫–æ—à–µ–ª–µ–∫...
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                
                <div class="live-logs" id="liveLogs">
                    <div class="log-entry">
                        <span class="log-time" id="currentTime"></span>
                        <span class="log-info">üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π...</span>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <button class="btn primary" onclick="checkPaymentStatus()">
                        üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞
                    </button>
                    <button class="btn secondary" onclick="openPage('page-home')" style="margin-top: 12px;">
                        –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                </div>
            </div>
        </div>

        <!-- Payment Success Page -->
        <div id="page-payment-success" class="page">
            <div class="status-page">
                <div class="status-icon">üéâ</div>
                <div class="status-title">–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞!</div>
                <div class="status-message">
                    ‚úÖ <strong>–í–∞—à –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω –∏ –ø—Ä–∏–Ω—è—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É!</strong>
                </div>
                
                <div class="glass-card" style="text-align: left;">
                    <h3 style="margin-bottom: 16px; color: var(--primary);">–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h3>
                    <div id="orderItemsList"></div>
                    <div style="display: flex; justify-content: space-between; padding: 16px 0; font-weight: 800; font-size: 18px; border-top: 2px solid var(--border); margin-top: 8px;">
                        <span>–ò—Ç–æ–≥–æ:</span>
                        <span id="orderTotalAmount">0 ‚ÇΩ</span>
                    </div>
                </div>
                
                <div class="glass-card" style="text-align: left; margin-top: 16px;">
                    <h4 style="margin-bottom: 12px; color: var(--success);">üì¶ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ</h4>
                    <div style="margin-bottom: 12px;">
                        <strong>üèô –ì–æ—Ä–æ–¥ –¥–æ—Å—Ç–∞–≤–∫–∏:</strong><br>
                        <span id="deliveryCity">‚Äî</span>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <strong>üó∫Ô∏è –†–∞–π–æ–Ω –¥–æ—Å—Ç–∞–≤–∫–∏:</strong><br>
                        <span id="deliveryDistrict">‚Äî</span>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <strong>–¢–µ–ø–µ—Ä—å —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:</strong><br>
                        <span>–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –í–∞—à–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã - @Alinkamimka223</span>
                    </div>
                </div>
                
                <button class="btn success" onclick="openPage('page-home')" style="margin-top: 24px;">
                    üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                </button>
            </div>
        </div>
    </div>

    <!-- Floating Cart -->
    <div id="cartFloat" class="cart-float hidden">
        <div class="cart-float-info">
            <div class="cart-float-count">–í –∫–æ—Ä–∑–∏–Ω–µ: <span id="cartCount">0</span> —à—Ç</div>
            <div class="cart-float-sum">–°—É–º–º–∞: <span id="cartSum">0</span> ‚ÇΩ</div>
        </div>
        <button class="btn primary" onclick="openPage('page-cart')">
            –û—Ç–∫—Ä—ã—Ç—å
        </button>
    </div>

    <!-- Payment Modal -->
    <div id="payModal" style="display: none;">
        <div class="modal-back" id="modalBack" onclick="closePayModal()">
            <div class="modal" onclick="event.stopPropagation()">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div class="modal-header">
                    <div class="modal-title">üí≥ –û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞</div>
                    <button class="modal-close" onclick="closePayModal()">‚úï</button>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏ -->
                <div class="modal-content">
                    <!-- –í—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã -->
                    <div class="modal-section">
                        <div class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É</div>
                        <div class="currency-grid" id="currencyList"></div>
                    </div>
                    
                    <!-- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã -->
                    <div class="modal-section">
                        <div class="rates-header">
                            <div class="section-title">–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã</div>
                            <button class="refresh-btn" onclick="manualUpdateRates()">
                                <span class="refresh-icon">üîÑ</span>
                            </button>
                        </div>
                        <div id="exchangeRatesDisplay" class="exchange-rates">
                            <!-- –ö—É—Ä—Å—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ -->
                        </div>
                    </div>
                    
                    <!-- –í—ã–±–æ—Ä —Å–µ—Ç–∏ -->
                    <div class="modal-section">
                        <div class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å</div>
                        <div class="network-buttons" id="networkButtons"></div>
                    </div>
                    
                    <!-- –î–µ—Ç–∞–ª–∏ –æ–ø–ª–∞—Ç—ã -->
                    <div class="payment-details">
                        <div class="amount-card">
                            <div class="amount-label">–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ:</div>
                            <div class="amount-value" id="paySummary">0.00 USDT (0.00 ‚ÇΩ)</div>
                        </div>
                        
                        <div class="wallet-section">
                            <div class="section-title">–ê–¥—Ä–µ—Å –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞:</div>
                            <div class="wallet-address" id="walletAddr">
                                –ó–∞–≥—Ä—É–∑–∫–∞...
                            </div>
                            <button class="copy-btn" onclick="copyWallet()">
                                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∞–¥—Ä–µ—Å
                            </button>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                    <div class="modal-actions">
                        <button class="btn success payment-confirm-btn" onclick="payConfirmManual()">
                            <span class="btn-icon">‚úÖ</span>
                            –Ø –æ–ø–ª–∞—Ç–∏–ª
                        </button>
                        <button class="btn secondary" onclick="closePayModal()">
                            <span class="btn-icon">‚Üê</span>
                            –ù–∞–∑–∞–¥
                        </button>
                    </div>
                    
                    <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ -->
                    <div class="payment-hint">
                        <div class="hint-icon">üí°</div>
                        <div class="hint-text">
                            –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –Ω–∞–∂–º–∏—Ç–µ "–Ø –æ–ø–ª–∞—Ç–∏–ª" –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <div class="nav-item active" data-page="page-home" onclick="navTo(this)">
            <div class="nav-icon">üè†</div>
            <div>–ì–ª–∞–≤–Ω–∞—è</div>
        </div>
        <div class="nav-item" data-page="page-products" onclick="navTo(this)">
            <div class="nav-icon">üõç</div>
            <div>–¢–æ–≤–∞—Ä—ã</div>
        </div>
        <div class="nav-item" data-page="page-cart" onclick="navTo(this)">
            <div class="nav-icon">üõí</div>
            <div>–ö–æ—Ä–∑–∏–Ω–∞</div>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/products.js"></script>
    <script src="js/cart.js"></script>
    <script src="js/payment.js"></script>
    <script src="js/app.js"></script>
</body>
</html>